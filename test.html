<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Exam Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Roboto', 'sans-serif'] },
                    colors: { 'edu-blue': '#3b82f6', 'edu-green': '#22c55e', 'edu-red': '#ef4444', 'edu-purple': '#a855f7' }
                }
            }
        }
    </script>
    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .option-radio:checked + div { border-color: #3b82f6; background-color: #eff6ff; }
        .palette-drawer { transition: transform 0.3s ease; }
        .palette-drawer.open { transform: translateX(0); }
    </style>
</head>
<body class="bg-gray-100 h-screen flex flex-col select-none overflow-hidden">

    <header class="bg-white border-b border-gray-300 h-14 flex justify-between items-center px-2 shrink-0">
        <div class="font-bold text-lg text-gray-800">FIRE<span class="text-yellow-500">WALKERS</span></div>
        <div class="flex items-center gap-3">
            <div class="bg-gray-100 px-2 py-1 rounded text-sm font-bold border border-gray-300">
                Time Left: <span id="timer" class="text-red-600">59:59</span>
            </div>
            <div class="w-8 h-8 rounded bg-gray-300 flex items-center justify-center text-xs text-gray-600 font-bold border border-gray-400">IMG</div>
        </div>
    </header>

    <div class="bg-blue-600 text-white flex overflow-x-auto whitespace-nowrap shrink-0 no-scrollbar">
        <button class="px-4 py-2 text-sm font-medium bg-white text-blue-800 border-t-2 border-blue-800">Reasoning</button>
        <button class="px-4 py-2 text-sm font-medium opacity-80 hover:opacity-100">Gen Awareness</button>
        <button class="px-4 py-2 text-sm font-medium opacity-80 hover:opacity-100">Quant Aptitude</button>
        <button class="px-4 py-2 text-sm font-medium opacity-80 hover:opacity-100">English Lang</button>
    </div>

    <div class="flex-1 flex relative overflow-hidden">
        
        <main class="flex-1 flex flex-col h-full overflow-y-auto bg-white p-2 pb-24">
            <div class="flex justify-between items-center border-b border-gray-200 pb-2 mb-4 sticky top-0 bg-white z-10">
                <div class="font-bold text-red-600 text-sm">Q.<span id="q-num">1</span></div>
                <div class="flex gap-2 text-[10px] font-bold">
                    <span class="text-green-600">+2.0</span>
                    <span class="text-red-600">-0.5</span>
                </div>
                <button onclick="togglePalette()" class="text-blue-600 text-sm font-bold md:hidden">View Palette <i class="fa-solid fa-grid"></i></button>
            </div>

            <div class="mb-6 text-gray-900 text-sm md:text-base font-medium leading-relaxed">
                <p class="mb-2 text-gray-500 text-xs">Select the related word/letters/number from the given alternatives.</p>
                <p class="text-lg">BVSC : YEHX :: MRCP : ?</p>
            </div>

            <div class="space-y-3">
                <label class="cursor-pointer block">
                    <input type="radio" name="opt" class="hidden option-radio">
                    <div class="flex items-center p-3 rounded border border-gray-300 hover:bg-gray-50">
                        <div class="w-5 h-5 rounded-full border border-gray-400 mr-3 flex items-center justify-center font-bold text-xs text-gray-500">A</div>
                        <span class="text-sm">NIXK</span>
                    </div>
                </label>
                <label class="cursor-pointer block">
                    <input type="radio" name="opt" class="hidden option-radio">
                    <div class="flex items-center p-3 rounded border border-gray-300 hover:bg-gray-50">
                        <div class="w-5 h-5 rounded-full border border-gray-400 mr-3 flex items-center justify-center font-bold text-xs text-gray-500">B</div>
                        <span class="text-sm">OIYK</span>
                    </div>
                </label>
                <label class="cursor-pointer block">
                    <input type="radio" name="opt" class="hidden option-radio">
                    <div class="flex items-center p-3 rounded border border-gray-300 hover:bg-gray-50">
                        <div class="w-5 h-5 rounded-full border border-gray-400 mr-3 flex items-center justify-center font-bold text-xs text-gray-500">C</div>
                        <span class="text-sm">NJXK</span>
                    </div>
                </label>
                <label class="cursor-pointer block">
                    <input type="radio" name="opt" class="hidden option-radio">
                    <div class="flex items-center p-3 rounded border border-gray-300 hover:bg-gray-50">
                        <div class="w-5 h-5 rounded-full border border-gray-400 mr-3 flex items-center justify-center font-bold text-xs text-gray-500">D</div>
                        <span class="text-sm">NJXL</span>
                    </div>
                </label>
            </div>
        </main>

        <aside id="palette" class="palette-drawer fixed inset-y-0 right-0 w-3/4 max-w-xs bg-white border-l border-gray-300 z-50 transform translate-x-full md:relative md:translate-x-0 md:w-80 flex flex-col shadow-2xl md:shadow-none">
            <div class="p-3 bg-gray-100 border-b border-gray-300 flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 rounded bg-gray-300"></div>
                    <div class="text-xs font-bold">John Doe</div>
                </div>
                <button onclick="togglePalette()" class="md:hidden text-gray-600"><i class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            
            <div class="p-2 grid grid-cols-2 gap-2 text-[10px] border-b border-gray-200">
                <div class="flex items-center gap-1"><span class="w-3 h-3 bg-green-500 rounded-full"></span> Answered</div>
                <div class="flex items-center gap-1"><span class="w-3 h-3 bg-red-500 rounded-full"></span> Not Answered</div>
                <div class="flex items-center gap-1"><span class="w-3 h-3 bg-gray-200 border border-gray-400 rounded-full"></span> Not Visited</div>
                <div class="flex items-center gap-1"><span class="w-3 h-3 bg-purple-500 rounded-full"></span> Review</div>
            </div>

            <div class="flex-1 overflow-y-auto p-3">
                <div class="font-bold text-xs mb-2">Reasoning</div>
                <div class="grid grid-cols-5 gap-2" id="grid-container">
                    </div>
            </div>

            <div class="p-3 bg-gray-100 border-t border-gray-300">
                <button onclick="submitTest()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 shadow">SUBMIT TEST</button>
            </div>
        </aside>
    </div>

    <footer class="bg-white border-t border-gray-300 p-2 flex justify-between items-center fixed bottom-0 w-full z-40 md:static">
        <div class="flex gap-2">
            <button class="px-3 py-2 border border-gray-300 rounded text-xs font-bold text-gray-600 hover:bg-gray-100">Mark for Review</button>
            <button onclick="clearResponse()" class="px-3 py-2 border border-gray-300 rounded text-xs font-bold text-gray-600 hover:bg-gray-100">Clear</button>
        </div>
        <button onclick="saveNext()" class="px-6 py-2 bg-green-600 text-white rounded text-sm font-bold hover:bg-green-700 shadow">Save & Next</button>
    </footer>

    <script>
        function togglePalette() { document.getElementById('palette').classList.toggle('translate-x-full'); }
        
        // Populate Grid
        const grid = document.getElementById('grid-container');
        for(let i=1; i<=25; i++) {
            let d = document.createElement('div');
            d.className = `h-8 w-8 flex items-center justify-center text-xs font-bold border rounded cursor-pointer ${i===1?'bg-red-500 text-white border-red-500':'bg-gray-100 border-gray-300 text-gray-600'}`;
            d.innerText = i;
            d.id = `qbtn-${i}`;
            grid.appendChild(d);
        }

        let curr = 1;
        function saveNext() {
            // Update current visual to Green
            let btn = document.getElementById(`qbtn-${curr}`);
            btn.className = "h-8 w-8 flex items-center justify-center text-xs font-bold border rounded cursor-pointer bg-green-500 text-white border-green-500";
            
            // Move next
            curr++; 
            if(curr>25) curr=1;
            document.getElementById('q-num').innerText = curr;
            
            // Reset radio
            document.querySelectorAll('input').forEach(x => x.checked = false);
            
            // Highlight new active (Red/Not Answered state initially)
            let nextBtn = document.getElementById(`qbtn-${curr}`);
            // Simple logic: if green keep green, else red
            if(!nextBtn.classList.contains('bg-green-500')) {
                nextBtn.className = "h-8 w-8 flex items-center justify-center text-xs font-bold border rounded cursor-pointer bg-red-500 text-white border-red-500";
            }
        }

        function clearResponse() { document.querySelectorAll('input').forEach(x => x.checked = false); }
        function submitTest() { window.location.href = "analysis.html"; }

        // Timer
        let t = 3600;
        setInterval(()=>{ t--; let m=Math.floor(t/60).toString().padStart(2,'0'); let s=(t%60).toString().padStart(2,'0'); document.getElementById('timer').innerText=`${m}:${s}`; },1000);
    </script>
</body>
</html>
